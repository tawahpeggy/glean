<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Pings - Glean SDKs - Cross-platform Telemetry Libraries</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../favicon.svg">
                        <link rel="shortcut icon" href="../../favicon.png">
                <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
                <link rel="stylesheet" href="../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
                <link rel="stylesheet" href="../../../shared/glean.css">
                <link rel="stylesheet" href="../../../shared/mermaid.css">
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../../index.html">Glean</a></li><li class="chapter-item affix "><li class="part-title">User Guides</li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/index.html"><strong aria-hidden="true">1.</strong> Adding Glean to your project</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/kotlin.html"><strong aria-hidden="true">1.1.</strong> Kotlin</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/swift.html"><strong aria-hidden="true">1.2.</strong> Swift</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/python.html"><strong aria-hidden="true">1.3.</strong> Python</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/javascript.html"><strong aria-hidden="true">1.4.</strong> JavaScript</a></li><li class="chapter-item "><a href="../../user/adding-glean-to-your-project/qt.html"><strong aria-hidden="true">1.5.</strong> Qt/QML</a></li></ol></li><li class="chapter-item "><a href="../../user/integrating-glean-for-product-managers.html"><strong aria-hidden="true">2.</strong> Integrating Glean for project managers</a></li><li class="chapter-item "><a href="../../user/metrics/adding-new-metrics.html"><strong aria-hidden="true">3.</strong> Metrics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/metrics/adding-new-metrics.html"><strong aria-hidden="true">3.1.</strong> Adding new metrics</a></li><li class="chapter-item "><a href="../../user/metrics/testing-metrics.html"><strong aria-hidden="true">3.2.</strong> Testing metrics</a></li><li class="chapter-item "><a href="../../user/metrics/error-reporting.html"><strong aria-hidden="true">3.3.</strong> Error reporting</a></li><li class="chapter-item "><a href="../../user/collected-metrics/metrics.html"><strong aria-hidden="true">3.4.</strong> Metrics collected by the Glean SDKs</a></li></ol></li><li class="chapter-item expanded "><a href="../../user/pings/index.html" class="active"><strong aria-hidden="true">4.</strong> Pings</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/pings/custom.html"><strong aria-hidden="true">4.1.</strong> Adding new custom pings</a></li><li class="chapter-item "><a href="../../user/pings/testing-custom-pings.html"><strong aria-hidden="true">4.2.</strong> Testing custom pings</a></li><li class="chapter-item "><a href="../../user/pings/sent-by-glean.html"><strong aria-hidden="true">4.3.</strong> Pings sent by Glean</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/pings/baseline.html"><strong aria-hidden="true">4.3.1.</strong> Baseline Ping</a></li><li class="chapter-item "><a href="../../user/pings/deletion-request.html"><strong aria-hidden="true">4.3.2.</strong> Deletion Request Ping</a></li><li class="chapter-item "><a href="../../user/pings/events.html"><strong aria-hidden="true">4.3.3.</strong> Events Ping</a></li><li class="chapter-item "><a href="../../user/pings/metrics.html"><strong aria-hidden="true">4.3.4.</strong> Metrics Ping</a></li><li class="chapter-item "><a href="../../user/pings/ping-schedules-and-timings.html"><strong aria-hidden="true">4.3.5.</strong> Schedules and timings overview</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../user/debugging/index.html"><strong aria-hidden="true">5.</strong> Debugging products using Glean</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../user/debugging/android.html"><strong aria-hidden="true">5.1.</strong> Android</a></li><li class="chapter-item "><a href="../../user/debugging/ios.html"><strong aria-hidden="true">5.2.</strong> iOS</a></li><li class="chapter-item "><a href="../../user/debugging/python.html"><strong aria-hidden="true">5.3.</strong> Python</a></li><li class="chapter-item "><a href="../../user/debugging/javascript.html"><strong aria-hidden="true">5.4.</strong> JavaScript</a></li></ol></li><li class="chapter-item "><li class="part-title">API Reference</li><li class="chapter-item "><a href="../../reference/yaml/index.html"><strong aria-hidden="true">6.</strong> YAML Registry Format</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../reference/yaml/metrics.html"><strong aria-hidden="true">6.1.</strong> Metrics</a></li><li class="chapter-item "><a href="../../reference/yaml/pings.html"><strong aria-hidden="true">6.2.</strong> Pings</a></li><li class="chapter-item "><a href="../../reference/yaml/tags.html"><strong aria-hidden="true">6.3.</strong> Tags</a></li></ol></li><li class="chapter-item "><a href="../../reference/general/index.html"><strong aria-hidden="true">7.</strong> General API</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../reference/general/initializing.html"><strong aria-hidden="true">7.1.</strong> Initializing</a></li><li class="chapter-item "><a href="../../reference/general/toggling-upload-status.html"><strong aria-hidden="true">7.2.</strong> Toggling upload status</a></li><li class="chapter-item "><a href="../../reference/general/experiments-api.html"><strong aria-hidden="true">7.3.</strong> Annotating experiments</a></li><li class="chapter-item "><a href="../../reference/general/register-custom-pings.html"><strong aria-hidden="true">7.4.</strong> Registering custom pings</a></li><li class="chapter-item "><a href="../../reference/general/shutdown.html"><strong aria-hidden="true">7.5.</strong> Shut down</a></li></ol></li><li class="chapter-item "><a href="../../reference/debug/index.html"><strong aria-hidden="true">8.</strong> Debugging</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../reference/debug/logPings.html"><strong aria-hidden="true">8.1.</strong> Log pings</a></li><li class="chapter-item "><a href="../../reference/debug/debugViewTag.html"><strong aria-hidden="true">8.2.</strong> Debug View Tag</a></li><li class="chapter-item "><a href="../../reference/debug/sourceTags.html"><strong aria-hidden="true">8.3.</strong> Source Tags</a></li></ol></li><li class="chapter-item "><a href="../../reference/metrics/index.html"><strong aria-hidden="true">9.</strong> Metric types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../reference/metrics/boolean.html"><strong aria-hidden="true">9.1.</strong> Boolean</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_booleans.html"><strong aria-hidden="true">9.2.</strong> Labeled Booleans</a></li><li class="chapter-item "><a href="../../reference/metrics/counter.html"><strong aria-hidden="true">9.3.</strong> Counter</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_counters.html"><strong aria-hidden="true">9.4.</strong> Labeled Counters</a></li><li class="chapter-item "><a href="../../reference/metrics/string.html"><strong aria-hidden="true">9.5.</strong> String</a></li><li class="chapter-item "><a href="../../reference/metrics/labeled_strings.html"><strong aria-hidden="true">9.6.</strong> Labeled Strings</a></li><li class="chapter-item "><a href="../../reference/metrics/string_list.html"><strong aria-hidden="true">9.7.</strong> String List</a></li><li class="chapter-item "><a href="../../reference/metrics/timespan.html"><strong aria-hidden="true">9.8.</strong> Timespan</a></li><li class="chapter-item "><a href="../../reference/metrics/timing_distribution.html"><strong aria-hidden="true">9.9.</strong> Timing Distribution</a></li><li class="chapter-item "><a href="../../reference/metrics/memory_distribution.html"><strong aria-hidden="true">9.10.</strong> Memory Distribution</a></li><li class="chapter-item "><a href="../../reference/metrics/uuid.html"><strong aria-hidden="true">9.11.</strong> UUID</a></li><li class="chapter-item "><a href="../../reference/metrics/url.html"><strong aria-hidden="true">9.12.</strong> URL</a></li><li class="chapter-item "><a href="../../reference/metrics/datetime.html"><strong aria-hidden="true">9.13.</strong> Datetime</a></li><li class="chapter-item "><a href="../../reference/metrics/event.html"><strong aria-hidden="true">9.14.</strong> Event</a></li><li class="chapter-item "><a href="../../reference/metrics/custom_distribution.html"><strong aria-hidden="true">9.15.</strong> Custom Distribution</a></li><li class="chapter-item "><a href="../../reference/metrics/quantity.html"><strong aria-hidden="true">9.16.</strong> Quantity</a></li><li class="chapter-item "><a href="../../reference/metrics/rate.html"><strong aria-hidden="true">9.17.</strong> Rate</a></li><li class="chapter-item "><a href="../../reference/metrics/text.html"><strong aria-hidden="true">9.18.</strong> Text</a></li></ol></li><li class="chapter-item "><a href="../../reference/pings/index.html"><strong aria-hidden="true">10.</strong> Pings</a></li><li class="chapter-item affix "><li class="part-title">SDK Specific Information</li><li class="chapter-item "><a href="../../language-bindings/index.html"><strong aria-hidden="true">11.</strong> Overview</a></li><li class="chapter-item "><a href="../../language-bindings/android/index.html"><strong aria-hidden="true">12.</strong> Android</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../language-bindings/android/android-build-configuration-options.html"><strong aria-hidden="true">12.1.</strong> Android build configuration options</a></li><li class="chapter-item "><a href="../../language-bindings/android/android-offline-builds.html"><strong aria-hidden="true">12.2.</strong> Android offline builds</a></li><li class="chapter-item "><a href="../../language-bindings/android/instrument-android-crashes-example.html"><strong aria-hidden="true">12.3.</strong> Instrumenting Android crashes with Glean</a></li></ol></li><li class="chapter-item "><a href="../../language-bindings/ios/index.html"><strong aria-hidden="true">13.</strong> iOS</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../language-bindings/ios/ios-build-configuration-options.html"><strong aria-hidden="true">13.1.</strong> iOS build configuration options</a></li></ol></li><li class="chapter-item "><a href="../../language-bindings/javascript/index.html"><strong aria-hidden="true">14.</strong> JavaScript</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../language-bindings/javascript/plugins/index.html"><strong aria-hidden="true">14.1.</strong> Plugins</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../language-bindings/javascript/plugins/encryption.html"><strong aria-hidden="true">14.1.1.</strong> Ping Encryption Plugin</a></li></ol></li></ol></li><li class="chapter-item "><li class="part-title">Appendix</li><li class="chapter-item "><a href="../../appendix/glossary.html"><strong aria-hidden="true">15.</strong> Glossary</a></li><li class="chapter-item "><a href="../../appendix/changelog/index.html"><strong aria-hidden="true">16.</strong> Changelog</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../appendix/changelog/sdk.html"><strong aria-hidden="true">16.1.</strong> mozilla/glean</a></li><li class="chapter-item "><a href="../../appendix/changelog/js.html"><strong aria-hidden="true">16.2.</strong> mozilla/glean.js</a></li></ol></li><li class="chapter-item "><a href="../../appendix/twig.html"><strong aria-hidden="true">17.</strong> This Week in Glean</a></li><li class="chapter-item "><a href="../../appendix/contribution-guidelines.html"><strong aria-hidden="true">18.</strong> Contribution Guidelines</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Glean SDKs - Cross-platform Telemetry Libraries</h1>

                    <div class="right-buttons">
                                                <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/mozilla/glean" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="pings"><a class="header" href="#pings">Pings</a></h1>
<p>A ping is a bundle of related metrics, gathered in a payload to be transmitted.
The ping payload is encoded in JSON format and contains one or more of the
<a href="#payload-structure">common sections</a> with shared information data.</p>
<p>If data collection is enabled, the chosen Glean SDK may provide a set of <a href="./sent-by-glean.html">built-in pings</a>
that are assembled out of the box without any developer intervention.</p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of contents</a></h2>
<ul>
<li><a href="#payload-structure">Payload structure</a>
<ul>
<li><a href="#the-ping_info-section">The <code>ping_info</code> section</a>
<ul>
<li><a href="#seq"><code>seq</code></a></li>
<li><a href="#start_time"><code>start_time</code></a></li>
<li><a href="#end_time"><code>end_time</code></a></li>
<li><a href="#reason-optional"><code>reason</code> (optional)</a></li>
<li><a href="#experiments-optional"><code>experiments</code> (optional)</a></li>
</ul>
</li>
<li><a href="#the-client_info-section">The <code>client_info</code> section</a>
<ul>
<li><a href="#app_build"><code>app_build</code></a></li>
<li><a href="#app_channel-optional"><code>app_channel</code> (optional)</a></li>
<li><a href="#app_display_version"><code>app_display_version</code></a></li>
<li><a href="#architecture"><code>architecture</code></a></li>
<li><a href="#client_id-optional"><code>client_id</code> (optional)</a></li>
<li><a href="#device_manufacturer-optional"><code>device_manufacturer</code> (optional)</a></li>
<li><a href="#device_model-optional"><code>device_model</code> (optional)</a></li>
<li><a href="#first_run_date"><code>first_run_date</code></a></li>
<li><a href="#os"><code>os</code></a></li>
<li><a href="#os_version"><code>os_version</code></a></li>
<li><a href="#android_sdk_version-optional"><code>android_sdk_version</code> (optional)</a></li>
<li><a href="#telemetry_sdk_build"><code>telemetry_sdk_build</code></a></li>
<li><a href="#locale-optional"><code>locale</code> (optional)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ping-submission">Ping submission</a>
<ul>
<li><a href="#url">URL</a></li>
<li><a href="#limitations">Limitations</a>
<ul>
<li><a href="#rate-limiting">Rate limiting</a></li>
<li><a href="#request-body-size-limiting">Request body size limiting</a></li>
<li><a href="#storage-quota">Storage quota</a></li>
</ul>
</li>
<li><a href="#submitted-headers">Submitted headers</a>
<ul>
<li><a href="#content-type"><code>Content-Type</code></a></li>
<li><a href="#date"><code>Date</code></a></li>
<li><a href="#user-agent"><code>User-Agent</code></a></li>
<li><a href="#x-telemetry-agent"><code>X-Telemetry-Agent</code></a></li>
<li><a href="#x-client-type-deprecated"><code>X-Client-Type</code> (deprecated)</a></li>
<li><a href="#x-client-version-deprecated"><code>X-Client-Version</code> (deprecated)</a></li>
<li><a href="#x-debug-id-optional"><code>X-Debug-Id</code> (optional)</a></li>
<li><a href="#x-source-tags-optional"><code>X-Source-Tags</code> (optional)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="payload-structure"><a class="header" href="#payload-structure">Payload structure</a></h2>
<p>Every ping payload has the following keys at the top-level:</p>
<ul>
<li>
<p>The <a href="#the-ping_info-section"><code>ping_info</code> section</a> contains core metadata
that is included in <strong>every</strong> ping.</p>
</li>
<li>
<p>The <a href="#the-client_info-section"><code>client_info</code> section</a> contains information that identifies the client.
It is included in most pings (including all built-in pings), but may be excluded from pings
where we don't want to connect client information with the other metrics in the ping.</p>
</li>
</ul>
<p>The following keys are only present if any metrics or events were recorded for the given ping:</p>
<ul>
<li>
<p>The <code>metrics</code> section contains the submitted values for all metric types
except for <a href="../metrics/event.html">events</a>. It has keys for each of the metric types,
under which is data for each metric.</p>
</li>
<li>
<p>The <code>events</code> section contains the events recorded in the ping.</p>
</li>
</ul>
<p>See the <a href="../../../dev/core/internal/payload.html">payload documentation</a>
for more details for each metric type in the <code>metrics</code> and <code>events</code> section.</p>
<h3 id="the-ping_info-section"><a class="header" href="#the-ping_info-section">The <code>ping_info</code> section</a></h3>
<p>The following fields are included in the <code>ping_info</code> section, for every ping.
Optional fields are marked accordingly.</p>
<h4 id="seq"><a class="header" href="#seq"><code>seq</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/counter.html">Counter</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#user">User</a></em></p>
<p>A running counter of the number of times pings of this type have been sent.</p>
<h4 id="start_time"><a class="header" href="#start_time"><code>start_time</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/datetime.html">Datetime</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#user">User</a></em></p>
<p>The time of the start of collection of the data in the ping, in local time
and with minute precision, including timezone information.</p>
<h4 id="end_time"><a class="header" href="#end_time"><code>end_time</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/datetime.html">Datetime</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#ping-default">Ping</a></em></p>
<p>The time of the end of collection of the data in the ping, in local time and with minute precision,
including timezone information. This is also the time this ping was generated
and is likely well before ping transmission time.</p>
<h4 id="reason-optional"><a class="header" href="#reason-optional"><code>reason</code> <em>(optional)</em></a></h4>
<p>The reason the ping was submitted. The specific set of values
and their meanings are defined for each metric type in the <a href="../../reference/yaml/pings.html#reasons"><code>reasons</code></a>
field in the <code>pings.yaml</code> file.</p>
<h4 id="experiments-optional"><a class="header" href="#experiments-optional"><code>experiments</code> <em>(optional)</em></a></h4>
<p>A dictionary of active experiments.</p>
<p>This object contains experiment annotations keyed by the experiment <code>id</code>.
Each annotation contains the experiment <code>branch</code> the client is enrolled in
and may contain a string to string map with additional data in the <code>extra</code> key.</p>
<p>Both the <code>id</code> and <code>branch</code> are truncated to 30 characters.
See <a href="../../reference/general/experiments-api.html">Using the Experiments API</a>
on how to record experiments data.</p>
<pre><code class="language-json">{
  &quot;&lt;id&gt;&quot;: {
    &quot;branch&quot;: &quot;branch-id&quot;,
    &quot;extra&quot;: {
      &quot;some-key&quot;: &quot;a-value&quot;
    }
  }
}
</code></pre>
<h3 id="the-client_info-section"><a class="header" href="#the-client_info-section">The <code>client_info</code> section</a></h3>
<p>The following fields are included in the <code>client_info</code> section.
Optional fields are marked accordingly.</p>
<h4 id="app_build"><a class="header" href="#app_build"><code>app_build</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#ping-default">Ping</a></em></p>
<p>The build identifier generated by the CI system (e.g. &quot;1234/A&quot;).
If the value was not provided through configuration, this metric gets set to <code>Unknown</code>.</p>
<h4 id="app_channel-optional"><a class="header" href="#app_channel-optional"><code>app_channel</code> <em>(optional)</em></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#ping-default">Ping</a></em></p>
<p>The product-provided release channel (e.g. &quot;beta&quot;).</p>
<h4 id="app_display_version"><a class="header" href="#app_display_version"><code>app_display_version</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#ping-default">Ping</a></em></p>
<p>The user-visible version string (e.g. &quot;1.0.3&quot;).
The meaning of the string (e.g. whether semver or a git hash) is application-specific.
If the value was not provided through configuration, this metric gets set to <code>Unknown</code>.</p>
<h4 id="architecture"><a class="header" href="#architecture"><code>architecture</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#ping-default">Ping</a></em></p>
<p>The architecture of the device (e.g. &quot;arm&quot;, &quot;x86&quot;).</p>
<h4 id="client_id-optional"><a class="header" href="#client_id-optional"><code>client_id</code> <em>(optional)</em></a></h4>
<p><em>Type: <a href="../../reference/metrics/uuid.html">UUID</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#user">User</a></em></p>
<p>A UUID identifying a profile and allowing user-oriented correlation of data.</p>
<h4 id="device_manufacturer-optional"><a class="header" href="#device_manufacturer-optional"><code>device_manufacturer</code> <em>(optional)</em></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#application">Application</a></em></p>
<p>The manufacturer of the device the application is running on.
Not set if the device manufacturer can't be determined (e.g. on Desktop).</p>
<h4 id="device_model-optional"><a class="header" href="#device_model-optional"><code>device_model</code> <em>(optional)</em></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#application">Application</a></em></p>
<p>The model of the device the application is running on.
On Android, this is <code>Build.MODEL</code>, the user-visible marketing name, like &quot;Pixel 2 XL&quot;.
Not set if the device model can't be determined (e.g. on Desktop).</p>
<h4 id="first_run_date"><a class="header" href="#first_run_date"><code>first_run_date</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/datetime.html">Datetime</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#user">User</a></em></p>
<p>The date of the first run of the application, in local time and with day precision,
including timezone information.</p>
<h4 id="os"><a class="header" href="#os"><code>os</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#application">Application</a></em></p>
<p>The name of the operating system (e.g. &quot;Linux&quot;, &quot;Android&quot;, &quot;iOS&quot;).</p>
<h4 id="os_version"><a class="header" href="#os_version"><code>os_version</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#application">Application</a></em></p>
<p>The user-visible version of the operating system (e.g. &quot;1.2.3&quot;).
If the version detection fails, this metric gets set to <code>Unknown</code>.</p>
<h4 id="android_sdk_version-optional"><a class="header" href="#android_sdk_version-optional"><code>android_sdk_version</code> <em>(optional)</em></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#application">Application</a></em></p>
<p>The Android specific SDK version of the software running on this hardware device (e.g. &quot;23&quot;).</p>
<h4 id="telemetry_sdk_build"><a class="header" href="#telemetry_sdk_build"><code>telemetry_sdk_build</code></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#application">Application</a></em></p>
<p>The version of the Glean SDK.</p>
<h4 id="locale-optional"><a class="header" href="#locale-optional"><code>locale</code> <em>(optional)</em></a></h4>
<p><em>Type: <a href="../../reference/metrics/string.html">String</a>,
Lifetime: <a href="../../reference/yaml/metrics.html#application">Application</a></em></p>
<p>The locale of the application during initialization (e.g. &quot;es-ES&quot;).
If the locale can't be determined on the system, the value is &quot;und&quot;, to indicate &quot;undetermined&quot;.</p>
<h2 id="ping-submission"><a class="header" href="#ping-submission">Ping submission</a></h2>
<p>The pings that the Glean SDKs generate are submitted to the Mozilla servers at specific paths,
in order to provide additional metadata without the need to unpack the ping payload.</p>
<h3 id="url"><a class="header" href="#url">URL</a></h3>
<p>A typical submission URL looks like</p>
<pre><code>&quot;&lt;server-address&gt;/submit/&lt;application-id&gt;/&lt;doc-type&gt;/&lt;glean-schema-version&gt;/&lt;document-id&gt;&quot;
</code></pre>
<p>where:</p>
<ul>
<li><code>&lt;server-address&gt;</code>: the address of the server that receives the pings;</li>
<li><code>&lt;application-id&gt;</code>: a unique application id, automatically detected by the Glean SDK; this is the value returned by <a href="http://developer.android.com/reference/android/content/Context.html#getPackageName()"><code>Context.getPackageName()</code></a>;</li>
<li><code>&lt;doc-type&gt;</code>: the name of the ping; this can be one of the pings available out of the box with the Glean SDK, or a custom ping;</li>
<li><code>&lt;glean-schema-version&gt;</code>: the version of the Glean ping schema;</li>
<li><code>&lt;document-id&gt;</code>: a unique identifier for this ping.</li>
</ul>
<h3 id="limitations"><a class="header" href="#limitations">Limitations</a></h3>
<p>To keep resource usage in check, the Glean SDK enforces some limitations on ping uploading and ping storage.</p>
<h4 id="rate-limiting"><a class="header" href="#rate-limiting">Rate limiting</a></h4>
<p>Only up to 15 ping submissions every 60 seconds are allowed.</p>
<p>For the JavaScript SDK that limit is higher
and up to 40 ping submissions every 60 seconds are allowed.</p>
<h4 id="request-body-size-limiting"><a class="header" href="#request-body-size-limiting">Request body size limiting</a></h4>
<p>The body of a ping request may have up to 1MB (after compression). Pings that exceed this size are discarded
and don't get uploaded. Size and number of discarded pings are recorded on the internal
Glean metric <a href="../collected-metrics/metrics.html#metrics-1"><code>glean.upload.discarded_exceeding_pings_size</code></a>.</p>
<h4 id="storage-quota"><a class="header" href="#storage-quota">Storage quota</a></h4>
<p>Pending pings are stored on disk. Storage is scanned every time Glean is initialized and upon scanning
Glean checks its size. If it exceeds a size of 10MB or 250 pending pings, pings are deleted to get the
storage back to an accepted size. Pings are deleted oldest first, until the storage size is below the quota.</p>
<p>The number of deleted pings due to exceeding storage quota is recorded on the metric
<a href="../collected-metrics/metrics.html#metrics-1"><code>glean.upload.deleted_pings_after_quota_hit</code></a>
and the size of the pending pings directory is recorded (regardless on whether quota has been reached)
on the metric <a href="../collected-metrics/metrics.html#metrics-1"><code>glean.upload.pending_pings_directory_size</code></a>.</p>
<p>Deletion request pings are not subject to this limitation and never get deleted.</p>
<h3 id="submitted-headers"><a class="header" href="#submitted-headers">Submitted headers</a></h3>
<p>A pre-defined set of headers is additionally sent along with the submitted ping.</p>
<h4 id="content-type"><a class="header" href="#content-type"><code>Content-Type</code></a></h4>
<p>Describes the data sent to the server. Value is always <code>application/json; charset=utf-8</code>.</p>
<h4 id="date"><a class="header" href="#date"><code>Date</code></a></h4>
<p>Submission date/time in GMT/UTC+0 offset, e.g. <code>Mon, 23 Jan 2019 10:10:10 GMT+00:00</code>.</p>
<h4 id="user-agent"><a class="header" href="#user-agent"><code>User-Agent</code></a></h4>
<p>The Glean SDKs do not set this header<sup class="footnote-reference"><a href="#1">1</a></sup>, so it will contain whatever value was set
by the underlying uploading mechanism. For example, when sending pings from browsers
it will contain the characteristic <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent#syntax">browser UA string</a>.</p>
<p>This header is parsed by the Glean pipeline and can be queried at analysis time through
the <a href="https://docs.telemetry.mozilla.org/datasets/pings.html?highlight=metadata#ping-metadata"><code>metadata.user_agent.*</code></a>
fields in the ping tables.</p>
<h4 id="x-telemetry-agent"><a class="header" href="#x-telemetry-agent"><code>X-Telemetry-Agent</code></a></h4>
<p>The Glean SDK version and platform this ping is sent from.
Useful for debugging purposes when pings are sent to <a href="https://docs.telemetry.mozilla.org/concepts/pipeline/filtering.html?highlight=error%20stream#querying-the-error-stream">the error stream</a>.
as it describes the application and the Glean SDK used for sending the ping.</p>
<p>It's looks like <code>Glean/40.0.0 (Kotlin on Android)</code>, where <code>40.0.0</code> is the Glean Kotlin SDK version number
and <code>Kotlin on Android</code> is the name of the language used by the SDK that sent the request
plus the name of the platform it is running on.</p>
<p><em>This header is currently only sent by the Glean JavaScript SDK. See <a href="#1">note</a>.</em></p>
<h4 id="x-client-type-deprecated"><a class="header" href="#x-client-type-deprecated"><code>X-Client-Type</code> (deprecated)</a></h4>
<p>Custom header to support handling of Glean pings in the legacy pipeline. Values is always <code>Glean</code>.</p>
<p>This header is deprecated and will soon be removed from all Glean SDKs.</p>
<h4 id="x-client-version-deprecated"><a class="header" href="#x-client-version-deprecated"><code>X-Client-Version</code> (deprecated)</a></h4>
<p>The Glean SDK version e.g. <code>0.40.0</code>, sent as a custom header to support handling of Glean pings in the legacy pipeline.</p>
<p>This header is deprecated and will soon be removed from all Glean SDKs.</p>
<h4 id="x-debug-id-optional"><a class="header" href="#x-debug-id-optional"><code>X-Debug-Id</code> <em>(optional)</em></a></h4>
<p>Debug header attached to Glean pings by using the <a href="../../reference/debug/debugViewTag.html">debug APIs</a>,
e.g. <code>test-tag</code>.</p>
<p>When this header is present, the ping is redirected to the
<a href="../debugging/index.html#glean-debug-view">Glean Debug View</a>.</p>
<h4 id="x-source-tags-optional"><a class="header" href="#x-source-tags-optional"><code>X-Source-Tags</code> <em>(optional)</em></a></h4>
<p>A list of tags to associate with the ping, useful for clustering pings at analysis time,
for example to tell data generated from CI from other data e.g. <code>automation, perf</code>.</p>
<p>This header is attached to Glean pings by using the <a href="../../reference/debug/sourceTags.html">debug APIs</a>.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>This is only true for the Glean JavaScript SDK at the moment. For the other SDKs this
header is overwritten with the value that is described on the <code>X-Telemetry-Agent</code> header section.
However, this feature will be implemented soon on all SDKs.
Follow <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1711928">Bug 1711928</a> for updates.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/mozilla/glean/edit/main/docs/user/user/pings/index.md">Edit this file on GitHub.</a></footer></div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../user/collected-metrics/metrics.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../user/pings/custom.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../user/collected-metrics/metrics.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../user/pings/custom.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
                <script type="text/javascript" src="../../../shared/tabs.js"></script>
                <script type="text/javascript" src="../../../shared/mermaid.min.js"></script>
                <script type="text/javascript" src="../../../shared/mermaid-init.js"></script>
                <script type="text/javascript" src="../../chart.min.js"></script>
                <script type="text/javascript" src="../../chart-distributions.js"></script>
                <script type="text/javascript" src="../../chart-distributions-ui.js"></script>
        
        
    </body>
</html>
